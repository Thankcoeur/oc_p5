(()=>{"use strict";var e,t,r,a={752:(e,t,r)=>{r.d(t,{F:()=>n});var a=r(291),o=r(342);class n{static getLocalStorage(){return null==n.LocalStorage_?(n.LocalStorage_=new a.m,n.LocalStorage_):n.LocalStorage_}static getProductStorage(){return null==n.ProductStorage_?(n.ProductStorage_=new o.A,n.ProductStorage_):n.ProductStorage_}}n.LocalStorage_=null,n.ProductStorage_=null},291:(e,t,r)=>{r.d(t,{m:()=>a});class a{constructor(){}static recupererData(){return JSON.parse(window.localStorage.getItem("panier"))}static enregistrer(e){window.localStorage.setItem("panier",JSON.stringify(e))}}!function(e,t,r,a){var o,n=arguments.length,c=n<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,a);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(c=(n<3?o(c):n>3?o(t,r,c):o(t,r))||c);n>3&&c&&Object.defineProperty(t,r,c)}([function(e,t){let r=null;Object.defineProperty(e,t,{get:function(){return r=a.recupererData(),r},set:function(e){a.enregistrer(e),r=e}})}],a.prototype,"data",void 0)},342:(e,t,r)=>{r.d(t,{A:()=>a});class a{AddItem(e,t){let r=[...t];return r.push(e),r}removeItem(e,t){let r=[...t];return console.log(r.splice(this.getIndex(e,r),1)),r.splice(this.getIndex(e,r),1)}getIndex(e,t){return[...t].findIndex((t=>t==e))}}},593:(e,t,r)=>{function a(e){let t=document.createElement("section");t.classList.add("product");let r=document.createElement("img");r.classList.add("product__image"),r.setAttribute("src",e.imageUrl);let a=document.createElement("h3");a.classList.add("product__name"),a.innerText=e.name;let o=document.createElement("p");o.classList.add("product__description"),o.innerText=e.description;let n=document.createElement("div");return n.classList.add("product__prix"),n.innerText=e.price+" €",t.append(r,a,o,n),t}r.d(t,{wv:()=>a,jV:()=>o});const o=async e=>{let t=await fetch("http://localhost:3000/api/cameras/"+e);return await t.json()}}},o={};function n(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={exports:{}};return a[e](r,r.exports,n),r.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e=n(593),t=n(752),r=window.localStorage.getItem("ref_id"),(async()=>{try{var a=await(0,e.jV)(r);console.log("data : ",t.F.getLocalStorage().data),function(a,o){let n=(0,e.wv)(a);document.getElementById("vue").append(n);var c=document.createElement("select");c.setAttribute("name","option"),c.id="option",a.lenses.map((e=>{var t=document.createElement("option");t.setAttribute("value",e),t.innerText=e,c.append(t)})),n.append(c),document.getElementById("ajouter__panier").addEventListener("click",(()=>{let e=t.F.getLocalStorage(),a=t.F.getProductStorage();console.log(e.data),e.data=a.AddItem(r,e.data),alert("enregistré dans le panier")}))}(a,t.F.getLocalStorage().data)}catch(e){alert(e)}})()})();